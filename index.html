<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Polity 1</title>
  <style>
    body { font-family: Arial, sans-serif; background: var(--bg-color); color: var(--text-color); padding: 5px; margin: 0;position: relative; }
    :root {
      --bg-color: #fff; --text-color: #000; --option-border: #1e1e1e;
      --dialog-bg: #F0F0F0;
    }
    .dark-mode {
      --bg-color: #121212; --text-color: #fff; --option-border: #f0f0f0;
      --dialog-bg: #1e1e1e;
    }
    .question-box { display: none; padding: 10px; margin-bottom: 20px; }
    .question-box.active { display: block; }
    h2 { font-size: 20px; }
    .options label {
      margin-bottom: 10px; cursor: pointer; padding: 10px;
      border: 1px solid var(--option-border); border-radius: 6px;
      transition: background 0.3s; display: block;
    }
    .options label.correct { background-color: #2e7d32; }
    .options label.incorrect { background-color: #c62828; }
    button {
      display: flex;
      align-items: center;
      justify-content: center; 
      padding: 6px; 
      font-size: 16px;
      background: #007bff; 
      color: #fff;
      border: none; 
      border-radius: 8px;
      cursor: pointer;
      flex: 1 ;
    }
    button:hover { opacity: 0.9; }
    .top-bar {
      display: flex; 
      justify-content: space-between;
      margin-bottom: 20px; 
      font-size: 18px; 
      background: var(--dialog-bg);
    }
    .navigation {
      display: flex;
      justify-content: space-between;
      gap: 15px;
      flex-wrap: wrap;
      position: fixed;
      bottom: 0px;
      left: 0;
      right: 0;
      padding: 10px 20px;
      background: var(--dialog-bg);
      z-index: 1000;
    }
    .result { font-size: 18px; font-weight: bold; margin-top: 20px; padding-bottom: 60px; }
    .dialog-overlay {
      position: fixed; top: 0; left: 0; right: 0; bottom: 0;
      background-color: var(--bg-color); display: flex;
      justify-content: center; align-items: center; z-index: 9999;
    }
    .dialog-box {
      display: flex;
      flex-direction: column;
      align-items: center;      
      gap: 12px;
      background: var(--dialog-bg);
      min-width: 70%;
      padding: 30px;
      border-radius: 10px;
      text-align: center;
      color: var(--text-color);
    }
    .correct-text { color: #2e7d32; }
    .incorrect-text { color: #c62828; }
    .switch { position: absolute; top: 15px; right: 15px; }
    .switch input { visibility: hidden; }
    .switch label {
      cursor: pointer; text-indent: -9999px;
      width: 40px; height: 18px; background: grey;
      display: block; border-radius: 90px; position: relative;
    }
    .switch label:after {
      content: ''; position: absolute; left: 4px; top: 1px;
      width: 17px; height: 17px; background: #fff;
      border-radius: 90px; transition: 0.3s;
    }
    .switch input:checked + label { background: #007bff; }
    .switch input:checked + label:after {
      left: calc(100% - 4px); transform: translateX(-100%);
    }
    .explanation {
      margin-top: 10px;
      font-size: 16px;
      text-align: justify;
      background: var(--bg-color);
      padding: 10px;
      border-radius: 6px; 
      color: var(--text-color);
    }
  </style>
</head>
<body>
  <div class="switch">
    <input type="checkbox" id="modeToggle" />
    <label for="modeToggle">Dark Mode</label>
  </div>

  <div class="top-bar">
    <div id="timer">Time Left: 30:00</div>
    <div id="progress">1 of 3</div>
  </div>

  <form id="quizForm"></form>
  <div class="result" id="result"></div>

  <div id="dialog" class="dialog-overlay" style="display:None">
    <div class="dialog-box">
      <h3>Your Result</h3>
      <div id="dialogContent"></div>
      <button onclick="showAnalysisMode()">Analysis</button>
    </div>
  </div>

  <script>
    const root = document.documentElement;
    document.getElementById('modeToggle').addEventListener('change', function () {
      document.body.classList.toggle('dark-mode', this.checked);
    });
//###########Add here your questions############
  
const questions = [
  {
    q: "Which part of the Indian Constitution deals with 'The Union and its Territory'?",
    options: ["Part I", "Part II", "Part III", "Part IV"],
    correct: 0,
    explanation: "Part I of the Constitution deals with the Union and its territory (Articles 1 to 4)."
  },
  {
    q: "Article 1 of the Constitution states that India is:",
    options: ["A group of federal states", "A union of states", "A sovereign federation", "A monarchy"],
    correct: 1,
    explanation: "Article 1 describes India as a 'Union of States' to emphasize unity and indestructibility."
  },
  {
    q: "Which Article allows Parliament to admit or establish new States?",
    options: ["Article 3", "Article 2", "Article 1", "Article 4"],
    correct: 1,
    explanation: "Article 2 empowers Parliament to admit new states into the Union."
  },
  {
    q: "Which Article deals with alteration of boundaries of States?",
    options: ["Article 1", "Article 2", "Article 3", "Article 4"],
    correct: 2,
    explanation: "Article 3 allows Parliament to alter state areas, boundaries, or names."
  },
  {
    q: "Whose recommendation is mandatory to introduce a bill under Article 3?",
    options: ["Supreme Court", "Prime Minister", "President", "Governor"],
    correct: 2,
    explanation: "Such a bill must be introduced with the prior recommendation of the President."
  },
  {
    q: "Which Article provides for the consequential changes in laws after reorganization?",
    options: ["Article 1", "Article 2", "Article 3", "Article 4"],
    correct: 3,
    explanation: "Article 4 allows for incidental and supplementary provisions when altering boundaries."
  },
  {
    q: "How many Union Territories are there in India as of 2024?",
    options: ["7", "8", "9", "10"],
    correct: 1,
    explanation: "After the reorganization of Jammu & Kashmir, there are 8 Union Territories in India."
  },
  {
    q: "Which state was bifurcated to create Telangana in 2014?",
    options: ["Karnataka", "Tamil Nadu", "Andhra Pradesh", "Maharashtra"],
    correct: 2,
    explanation: "Telangana became the 29th state of India, carved out of Andhra Pradesh."
  },
  {
    q: "The merger of Dadra and Nagar Haveli and Daman & Diu happened in:",
    options: ["2015", "2018", "2020", "2022"],
    correct: 2,
    explanation: "The merger occurred on 26 January 2020."
  },
  {
    q: "Jammu and Kashmir became a Union Territory in:",
    options: ["2014", "2017", "2019", "2021"],
    correct: 2,
    explanation: "Following the abrogation of Article 370, J&K became a UT in 2019."
  },
  {
    q: "Which commission recommended linguistic reorganization of states?",
    options: ["Mandal Commission", "Fazl Ali Commission", "Sarkaria Commission", "Rajamannar Committee"],
    correct: 1,
    explanation: "Fazl Ali Commission was appointed in 1953 and recommended reorganization on linguistic lines."
  },
  {
    q: "States Reorganisation Act came into force in:",
    options: ["1950", "1955", "1956", "1960"],
    correct: 2,
    explanation: "The Act was implemented on 1 November 1956."
  },
  {
    q: "Which Article is NOT under Part I of the Constitution?",
    options: ["Article 1", "Article 2", "Article 3", "Article 5"],
    correct: 3,
    explanation: "Article 5 deals with citizenship, not territory, and belongs to Part II."
  },
  {
    q: "Which of the following does Article 3 NOT permit?",
    options: ["Renaming a state", "Creation of a new state", "Amending the Constitution", "Altering a state's boundary"],
    correct: 2,
    explanation: "Article 3 deals with state reorganization, not constitutional amendment."
  },
  {
    q: "Which body is consulted before introducing a bill under Article 3?",
    options: ["Supreme Court", "State Legislature", "Prime Minister", "Election Commission"],
    correct: 1,
    explanation: "The President must refer the bill to the State Legislature for its views."
  },
  {
    q: "Which of the following powers does Parliament NOT have under Article 3?",
    options: ["Change name of state", "Create a new state", "Abolish Constitution", "Increase area of a state"],
    correct: 2,
    explanation: "Only state reorganization powers are given under Article 3, not abolishing the Constitution."
  },
  {
    q: "India is described as a ‘Union’ to:",
    options: ["Deny states sovereignty", "Allow secession", "Emphasize equality", "Highlight unity and indestructibility"],
    correct: 3,
    explanation: "The term 'Union' emphasizes that states do not have the right to secede."
  },
  {
    q: "Which among the following UTs was created by bifurcation of a state in 2019?",
    options: ["Puducherry", "Lakshadweep", "Ladakh", "Chandigarh"],
    correct: 2,
    explanation: "Ladakh was carved out from Jammu and Kashmir in 2019."
  },
  {
    q: "Who has the final authority to alter state boundaries?",
    options: ["Supreme Court", "President", "Parliament", "State Assembly"],
    correct: 2,
    explanation: "Parliament has the sole authority under Article 3 to alter state boundaries."
  },
  {
    q: "Which of the following was a new state created in the year 2000?",
    options: ["Goa", "Chhattisgarh", "Telangana", "Sikkim"],
    correct: 1,
    explanation: "Chhattisgarh was created from Madhya Pradesh in 2000."
  }
];




//##############
    const quizForm = document.getElementById('quizForm');
    let currentQuestion = 0;
    let timeLeft = 1500;
    const timerEl = document.getElementById('timer');
    const progressEl = document.getElementById('progress');
    let score = 0;
    let userAnswers = new Array(questions.length);
    let isAnalysisMode = false;

    questions.forEach((question, index) => {
      const box = document.createElement('div');
      box.className = 'question-box';
      if (index === 0) box.classList.add('active');
      const html = `
        <h2>${index + 1}. ${question.q}</h2>
        <div class="options">
          ${question.options.map((opt, i) =>
            `<label id="q${index}opt${i}" class="opt-label"><input type="radio" name="q${index}" value="${i}" onchange="recordAnswer(${index}, ${i})"> ${String.fromCharCode(97+i)}) ${opt}</label>`).join('')}
        </div>
        <div class="explanation" id="explanation${index}" style="display:none"></div>
      `;
      box.innerHTML = html;
      quizForm.appendChild(box);
    });

    const navBar = document.createElement('div');
    navBar.className = 'navigation';
    document.body.appendChild(navBar);

    function updateNavButtons() {
      navBar.innerHTML = isAnalysisMode
        ? `<button onclick="prevQuestion()">Previous</button><button onclick="nextQuestion()">Next</button>`
        : `<button onclick="prevQuestion()">Previous</button><button onclick="clearCurrentResponse()">Clear</button>${currentQuestion === questions.length - 1
          ? '<button onclick="submitQuiz()">Submit Test</button>'
          : '<button onclick="nextQuestion()">Next</button>'}`;
    }

    function showQuestion(index) {
      document.querySelectorAll('.question-box').forEach((box, i) => {
        box.classList.toggle('active', i === index);
      });
      progressEl.textContent = `${index + 1} of ${questions.length}`;

      if (isAnalysisMode) {
        const userAns = userAnswers[index];
        const correctAns = questions[index].correct;
        timerEl.textContent = userAns === correctAns ? 'Correct' :
                              userAns === undefined ? 'Not Answered' : 'Incorrect';
        timerEl.className = userAns === correctAns ? 'correct-text' :
                            userAns === undefined ? '' : 'incorrect-text';

        const labels = document.querySelectorAll(`#quizForm .question-box:nth-child(${index + 1}) .opt-label`);
        labels.forEach((label, i) => {
          const input = label.querySelector('input');
          input.disabled = true;
          if (i === correctAns) label.classList.add('correct');
          if (i === userAns && i !== correctAns) label.classList.add('incorrect');
        });

        const expDiv = document.getElementById(`explanation${index}`);
        expDiv.innerHTML = "<h2>Explanation:</h2><br>" + questions[index].explanation;
        expDiv.style.display = "block";
      }

      updateNavButtons();
    }

    function nextQuestion() {
      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        showQuestion(currentQuestion);
      }
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion(currentQuestion);
      }
    }

    function clearCurrentResponse() {
      document.querySelectorAll(`input[name=q${currentQuestion}]`).forEach(input => input.checked = false);
      userAnswers[currentQuestion] = undefined;
    }

    function recordAnswer(index, value) {
      if (!isAnalysisMode) userAnswers[index] = value;
    }

    function submitQuiz() {
      clearInterval(countdown);
      document.querySelectorAll('.question-box').forEach(box => box.classList.remove('active'));
      timerEl.innerHTML = '';

      const total = questions.length;
      let correct = 0, incorrect = 0;
      userAnswers.forEach((ans, i) => {
        if (ans === questions[i].correct) correct++;
        else if (ans !== undefined) incorrect++;
      });
      const notAnswered = total - correct - incorrect;
      score = correct - incorrect * 0.33;

      document.getElementById('dialogContent').innerHTML =
        `Correct: ${correct}<br>Incorrect: ${incorrect}<br>Not Answered: ${notAnswered}<br>Score: ${score.toFixed(2)} / ${total}`;
      document.getElementById('dialog').style.display = 'flex';
    }

    function showAnalysisMode() {
      isAnalysisMode = true;
      document.getElementById('dialog').style.display = 'none';
      currentQuestion = 0;
      showQuestion(currentQuestion);
    }

    const countdown = setInterval(() => {
      if (timeLeft <= 0) {
        clearInterval(countdown);
        submitQuiz();
      } else {
        const minutes = String(Math.floor(timeLeft / 60)).padStart(2, '0');
        const seconds = String(timeLeft % 60).padStart(2, '0');
        timerEl.textContent = `Time Left: ${minutes}:${seconds}`;
        timeLeft--;
      }
    }, 1000);

    showQuestion(currentQuestion);
  </script>
</body>
</html>
